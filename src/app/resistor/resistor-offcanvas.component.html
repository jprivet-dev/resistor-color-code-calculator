<ng-container *transloco="let t">
  <ng-container *ngIf="seriesName$ | async as seriesName">
    <div class="offcanvas-header">
      <div class="title">
        <select class="form-select form-select-lg" (change)="update($event)">
          <option value="E12" [selected]="seriesName === 'E12'">
            {{ t('seriesE12') }}
          </option>
          <option value="E24" [selected]="seriesName === 'E24'">
            {{ t('seriesE24') }}
          </option>
          <option value="ArduinoStarterKit" [selected]="seriesName === 'ArduinoStarterKit'">
            {{ t('arduinoStarterKit') }}
          </option>
        </select>
      </div>
      <button
        type="button"
        class="btn-close text-reset"
        aria-label="Close"
        (click)="closeOffcanvas()"
      ></button>
    </div>
    <div class="offcanvas-body">
      <div class="series">
        <div *ngIf="seriesName === 'E12'" class="series-E12">
          <p>
            {{ t('seriesE12Info') }}
            {{ t('moreInfoOn') }}
            <a href="{{ t('seriesELink') }}" target="_blank">
              {{t('wikipedia')}}
              <i class="bi bi-box-arrow-up-right ms-1"></i>
            </a>.
          </p>
          <button *ngFor="let item of generateSeriesE12()"
                  (click)="chooseSeriesE12Item(item)"
                  type="button" class="btn btn-outline-secondary btn-choose-resistor me-2 mb-2">
            <div class="d-flex flex-column">
              <div class="label text-light-theme px-2 py-1">
                {{ item.value | format: 'resistance' }}
              </div>
              <div class="bands-colors d-flex rounded-1">
                <div class="color" [appResistorColor]="item.digit1"></div>
                <div class="color" [appResistorColor]="item.digit2"></div>
                <div class="color" [appResistorColor]="item.multiplier"></div>
                <div class="color" [appResistorColor]="item.tolerance"></div>
              </div>
            </div>
          </button>
        </div>
        <div *ngIf="seriesName === 'E24'" class="series-E24">
          <p>
            {{ t('seriesE24Info') }}
            {{ t('moreInfoOn') }}
            <a href="{{ t('seriesELink') }}" target="_blank">
              {{t('wikipedia')}}
              <i class="bi bi-box-arrow-up-right ms-1"></i>
            </a>.
          </p>
          <button *ngFor="let item of generateSeriesE24()"
                  (click)="chooseSeriesE24Item(item)"
                  type="button" class="btn btn-outline-secondary btn-choose-resistor me-2 mb-2">
            <div class="d-flex flex-column">
              <div class="label text-light-theme px-2 py-1">
                {{ item.value | format: 'resistance' }}
              </div>
              <div class="bands-colors d-flex rounded-1">
                <div class="color" [appResistorColor]="item.digit1"></div>
                <div class="color" [appResistorColor]="item.digit2"></div>
                <div class="color" [appResistorColor]="item.digit3"></div>
                <div class="color" [appResistorColor]="item.multiplier"></div>
                <div class="color" [appResistorColor]="item.tolerance"></div>
              </div>
            </div>
          </button>
        </div>
        <div *ngIf="seriesName === 'ArduinoStarterKit'" class="arduino-starter-kit">
          <p>
            {{ t('arduinoStarterKitInfo') }}
            {{ t('moreInfoOn') }}
            <a href="{{ t('arduinoStarterKitLink') }}" target="_blank">
              {{t('arduino')}}
              <i class="bi bi-box-arrow-up-right ms-1"></i>
            </a>.
          </p>
          <button *ngFor="let item of generateArduinoStarterKit()"
                  (click)="chooseSeriesE12Item(item)"
                  type="button" class="btn btn-outline-secondary btn-choose-resistor me-2 mb-2">
            <div class="d-flex flex-column">
              <div class="label text-light-theme px-2 py-1">
                {{ item.value | format: 'resistance' }}
              </div>
              <div class="bands-colors d-flex rounded-1">
                <div class="color" [appResistorColor]="item.digit1"></div>
                <div class="color" [appResistorColor]="item.digit2"></div>
                <div class="color" [appResistorColor]="item.multiplier"></div>
                <div class="color" [appResistorColor]="item.tolerance"></div>
              </div>
            </div>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>
